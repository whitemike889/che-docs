<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="759" height="639" contentScriptType="application/ecmascript" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 759 639" zoomAndPan="magnify" style="width:759px;height:639px"><defs><filter id="f1c4x7s4ftb4gt" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect width="361" height="617.82" x="387.5" y="4" fill="#D3D3D3" stroke="#A80036" stroke-width="1"/><text x="517" y="16.067" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102">Secure Server</text><rect width="10" height="29.133" x="301.5" y="205.094" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="301.5" y="263.359" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="301.5" y="321.625" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="86.398" x="443.5" y="89.563" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="443.5" y="379.891" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="129.531" x="443.5" y="480.289" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="688.5" y="551.555" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><line x1="65" x2="65" y1="58.43" y2="627.82" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="306.5" x2="306.5" y1="58.43" y2="627.82" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="448.5" x2="448.5" y1="58.43" y2="627.82" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><line x1="693.5" x2="693.5" y1="58.43" y2="627.82" stroke="#A80036" stroke-dasharray="5 5" stroke-width="1"/><rect width="71" height="30.297" x="28" y="23.133" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1c4x7s4ftb4gt)"/><text x="35" y="43.128" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57">Browser</text><rect width="86" height="30.297" x="261.5" y="23.133" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1c4x7s4ftb4gt)"/><text x="268.5" y="43.128" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72">CheServer</text><rect width="70" height="30.297" x="411.5" y="23.133" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1c4x7s4ftb4gt)"/><text x="418.5" y="43.128" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56">JwtProxy</text><rect width="58" height="30.297" x="662.5" y="23.133" fill="#FEFECE" stroke="#A80036" stroke-width="1.5" filter="url(#f1c4x7s4ftb4gt)"/><text x="669.5" y="43.128" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44">Server</text><rect width="10" height="29.133" x="301.5" y="205.094" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="301.5" y="263.359" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="301.5" y="321.625" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="86.398" x="443.5" y="89.563" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="443.5" y="379.891" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="129.531" x="443.5" y="480.289" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><rect width="10" height="29.133" x="688.5" y="551.555" fill="#FFF" stroke="#A80036" stroke-width="1" filter="url(#f1c4x7s4ftb4gt)"/><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="431.5 85.563 441.5 89.563 431.5 93.563 435.5 89.563"/><line x1="65.5" x2="437.5" y1="89.563" y2="89.563" stroke="#A80036" stroke-width="1"/><text x="72.5" y="84.497" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113">Call without token</text><line x1="453.5" x2="495.5" y1="118.695" y2="118.695" stroke="#A80036" stroke-width="1"/><line x1="495.5" x2="495.5" y1="118.695" y2="131.695" stroke="#A80036" stroke-width="1"/><line x1="454.5" x2="495.5" y1="131.695" y2="131.695" stroke="#A80036" stroke-width="1"/><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="464.5 127.695 454.5 131.695 464.5 135.695 460.5 131.695"/><text x="460.5" y="113.629" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171">Check that token is absent</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 171.961 66.5 175.961 76.5 179.961 72.5 175.961"/><line x1="70.5" x2="447.5" y1="175.961" y2="175.961" stroke="#A80036" stroke-width="1"/><text x="82.5" y="155.762" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142">Redirect to the special</text><text x="82.5" y="170.895" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218">page `loader.html` on Che Server</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="289.5 201.094 299.5 205.094 289.5 209.094 293.5 205.094"/><line x1="65.5" x2="295.5" y1="205.094" y2="205.094" stroke="#A80036" stroke-width="1"/><text x="72.5" y="200.028" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122">Load `loader.html`</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 230.227 66.5 234.227 76.5 238.227 72.5 234.227"/><line x1="70.5" x2="305.5" y1="234.227" y2="234.227" stroke="#A80036" stroke-width="1"/><text x="82.5" y="229.161" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169">Return `loader.html` page</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="289.5 259.359 299.5 263.359 289.5 267.359 293.5 263.359"/><line x1="65.5" x2="295.5" y1="263.359" y2="263.359" stroke="#A80036" stroke-width="1"/><text x="72.5" y="258.293" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82">Authenticate</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 288.492 66.5 292.492 76.5 296.492 72.5 292.492"/><line x1="70.5" x2="305.5" y1="292.492" y2="292.492" stroke="#A80036" stroke-width="1"/><text x="82.5" y="287.426" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160">Send a Che Server token</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="289.5 317.625 299.5 321.625 289.5 325.625 293.5 321.625"/><line x1="65.5" x2="295.5" y1="321.625" y2="321.625" stroke="#A80036" stroke-width="1"/><text x="72.5" y="316.559" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146">Fetch a machine token</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 346.758 66.5 350.758 76.5 354.758 72.5 350.758"/><line x1="70.5" x2="305.5" y1="350.758" y2="350.758" stroke="#A80036" stroke-width="1"/><text x="82.5" y="345.692" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157">Send the machine token</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="431.5 375.891 441.5 379.891 431.5 383.891 435.5 379.891"/><line x1="65.5" x2="437.5" y1="379.891" y2="379.891" stroke="#A80036" stroke-width="1"/><text x="72.5" y="374.825" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142">Store token in cookies</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 405.023 66.5 409.023 76.5 413.023 72.5 409.023"/><line x1="70.5" x2="447.5" y1="409.023" y2="409.023" stroke="#A80036" stroke-width="1"/><text x="82.5" y="403.957" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320">Send response header for setting http-only cookie</text><line x1="65.5" x2="107.5" y1="438.156" y2="438.156" stroke="#A80036" stroke-width="1"/><line x1="107.5" x2="107.5" y1="438.156" y2="451.156" stroke="#A80036" stroke-width="1"/><line x1="66.5" x2="107.5" y1="451.156" y2="451.156" stroke="#A80036" stroke-width="1"/><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 447.156 66.5 451.156 76.5 455.156 72.5 451.156"/><text x="72.5" y="433.09" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227">Redirect to originally requested URL</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="431.5 476.289 441.5 480.289 431.5 484.289 435.5 480.289"/><line x1="65.5" x2="437.5" y1="480.289" y2="480.289" stroke="#A80036" stroke-width="1"/><text x="72.5" y="475.223" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159">Call with token in cookies</text><line x1="453.5" x2="495.5" y1="509.422" y2="509.422" stroke="#A80036" stroke-width="1"/><line x1="495.5" x2="495.5" y1="509.422" y2="522.422" stroke="#A80036" stroke-width="1"/><line x1="454.5" x2="495.5" y1="522.422" y2="522.422" stroke="#A80036" stroke-width="1"/><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="464.5 518.422 454.5 522.422 464.5 526.422 460.5 522.422"/><text x="460.5" y="504.356" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221">Check that a valid token is present</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="676.5 547.555 686.5 551.555 676.5 555.555 680.5 551.555"/><line x1="453.5" x2="682.5" y1="551.555" y2="551.555" stroke="#A80036" stroke-width="1"/><text x="460.5" y="546.489" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23">Call</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="464.5 576.688 454.5 580.688 464.5 584.688 460.5 580.688"/><line x1="458.5" x2="692.5" y1="580.688" y2="580.688" stroke="#A80036" stroke-width="1"/><text x="470.5" y="575.622" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55">Respond</text><polygon fill="#A80036" stroke="#A80036" stroke-width="1" points="76.5 605.82 66.5 609.82 76.5 613.82 72.5 609.82"/><line x1="70.5" x2="447.5" y1="609.82" y2="609.82" stroke="#A80036" stroke-width="1"/><text x="82.5" y="604.754" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55">Respond</text></g></svg>